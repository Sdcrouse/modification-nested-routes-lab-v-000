<%= form_for @song  do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title %><br>

  <% if @artist %> <!-- Is it even possible to refactor this into an #artist_select helper method? -->
    <%= f.hidden_field :artist_id %>
    Artist name: <%= @artist.name %>
  <% else %>
    <!--
      <%#= f.label :artist_name %> <!-- So, despite the Song#artist_name method, this isn't needed.
      <%#= f.text_field :artist_name %> <!-- Or this, for that matter.
    -->

    <%= f.label :artist_id, "Artist name" %>
    <%= f.select :artist_id, options_from_collection_for_select(Artist.all, :id, :name) %>
  <% end %>
  <br />

  <%= f.submit %>
<% end %>

<%# if @song.artist_id %> 
  <!-- For some reason, /songs/:id/edit is supposed to have that select list of artists. -->
  <!-- I think I discovered a bug; this actually passes the tests despite not showing the artist select. -->
  <!-- Update: It's because the song in that test had no artist! -->
  <%#= f.hidden_field :artist_id %>
  <!-- Artist name: <%#= @song.artist.name %> -->